@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .hoverable {
    @apply hover:bg-gray-800 hover:bg-opacity-5 dark:hover:bg-gray-200 dark:hover:bg-opacity-5;
  }
  .bg-input {
    @apply bg-black bg-opacity-5 hover:bg-opacity-10 dark:bg-gray-200 dark:bg-opacity-5 dark:hover:bg-opacity-10;
  }
  .bg-box-transparent {
    @apply bg-black bg-opacity-5 dark:bg-gray-200 dark:bg-opacity-5;
  }
  .bg-box-transparent-2 {
    @apply bg-black bg-opacity-10 dark:bg-gray-200 dark:bg-opacity-10;
  }
}

@layer components {
  .container {
    padding-left: 36px !important;
    padding-right: 36px !important;
    width: 100% !important;
    margin: 0 auto !important;
    max-width: none !important;
  }
}

:host, :root {
  --color-primary: 59 130 246;
  --color-secondary: 96 165 250;
  --color-accent: 24 24 27;
}
.dark {
  --color-primary: 96 165 250;
  --color-secondary: 59 130 246;
  --color-accent: 244 244 245;
}

* {
  @apply dark:border-gray-700;
}

/* Override border colors to use extension neutral grays */
.dark *[class*="border-gray-700"],
.dark .border-gray-700 {
  border-color: #3F3F46 !important; /* Extension neutral gray */
}

html.dark {
  background-color: #18181B !important; /* Extension main background */
}

body, :host {
  font-family: 'Inter var', sans-serif !important;
  font-size: 16px !important;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  @apply bg-gray-50 leading-normal;
  /* Allow scrolling - overflow-y: auto enables scrolling while keeping custom scrollbar hidden */
  overflow-y: auto;
}

/* Custom Scrollbar Styling - matches app aesthetic */
body::-webkit-scrollbar,
html::-webkit-scrollbar,
*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

body::-webkit-scrollbar-track,
html::-webkit-scrollbar-track,
*::-webkit-scrollbar-track {
  background: transparent;
}

body::-webkit-scrollbar-thumb,
html::-webkit-scrollbar-thumb,
*::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

body::-webkit-scrollbar-thumb:hover,
html::-webkit-scrollbar-thumb:hover,
*::-webkit-scrollbar-thumb:hover {
  background-color: rgba(0, 0, 0, 0.3);
}

/* Dark mode scrollbar */
body.dark::-webkit-scrollbar-thumb,
html.dark::-webkit-scrollbar-thumb,
.dark *::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.15);
}

body.dark::-webkit-scrollbar-thumb:hover,
html.dark::-webkit-scrollbar-thumb:hover,
.dark *::-webkit-scrollbar-thumb:hover {
  background-color: rgba(255, 255, 255, 0.25);
}

/* Firefox scrollbar */
body, html, * {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

body.dark, html.dark, .dark * {
  scrollbar-color: rgba(255, 255, 255, 0.15) transparent;
}

body.dark, :host.dark {
  background-color: #18181B !important; /* Extension main background */
}

/* Override backgrounds to match extension's neutral grays */
.dark .bg-gray-900,
.dark [class*="bg-gray-900"] {
  background-color: #18181B !important; /* Extension main background */
}

.dark .bg-gray-800:not(button):not(.ui-button),
.dark [class*="bg-gray-800"]:not(button):not(.ui-button) {
  background-color: #27272A !important; /* Extension card background - neutral gray */
}

.dark .bg-gray-700:not(button):not(.ui-button),
.dark [class*="bg-gray-700"]:not(button):not(.ui-button) {
  background-color: #3F3F46 !important; /* Extension border/divider color - neutral gray */
}

/* Keep buttons with their original blue/primary colors */
.dark button[class*="bg-primary"],
.dark .ui-button[class*="bg-primary"],
.dark button[class*="bg-blue"],
.dark .ui-button[class*="bg-blue"] {
  background-color: rgb(96 165 250) !important; /* Keep original button blue */
}
table th,
table td {
  @apply py-2 px-4;
}
input:focus,
button:focus,
textarea:focus,
select:focus,
[role='button']:focus {
  outline: none;
  @apply ring-2 ring-accent dark:ring-gray-200;
}

.text-overflow {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.line-clamp {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}


.custom-table thead {
  @apply bg-box-transparent;
}
.custom-table thead th {
  @apply font-semibold;
}
.custom-table thead th:first-child {
  @apply rounded-l-lg;
}
.custom-table thead th:last-child {
  @apply rounded-r-lg;
}
.custom-table tbody {
  @apply divide-y;
}



pre {
  font-size: 15px;
}

.scroll, 
.scroll .cm-scroller {
  &::-webkit-scrollbar {
    width: 7px;
    height: 9px;
  }
  &::-webkit-scrollbar-thumb {
    @apply bg-gray-300;
    border-radius: 8px;
  }

  .dark &::-webkit-scrollbar-thumb {
    background-color: #3F3F46 !important; /* Extension neutral gray */
    border-radius: 8px;
  }
  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &.scroll-xs::-webkit-scrollbar {
    width: 5px;
    height: 5px;
  }
}


.tippy-box[data-theme~='tooltip-theme'] {
  @apply px-2 py-1 bg-gray-900 dark:bg-gray-200 dark:text-black text-sm text-gray-200 rounded-md;
}
.Vue-Toastification__toast {
  font-family: inherit !important;
}
.ProseMirror > * + * {
  margin-top: 0.75em;
}
.ProseMirror img {
  max-width: 100%;
  height: auto;
}
.ProseMirror img.ProseMirror-selectednode {
  outline: 3px solid #68CEF8;
}

.input-label {
  @apply ml-1 text-sm text-gray-600 dark:text-gray-200;
}
